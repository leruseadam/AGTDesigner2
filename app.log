2025-07-17 19:08:04,832 - INFO - Running in DEVELOPMENT mode with hot reloading enabled
2025-07-17 19:08:05,182 - INFO - Found most recent AGT file: A Greener Today - Bothell_inventory_07-15-2025  7_04 PM.xlsx (modified: 1752722748.3365276)
2025-07-17 19:08:05,182 - INFO - Loading default file in get_excel_processor: /Users/adamcordova/Desktop/labelMaker_ newgui BACKUP 6.24 copy 17/uploads/A Greener Today - Bothell_inventory_07-15-2025  7_04 PM.xlsx
2025-07-17 19:08:05,183 - DEBUG - Loading file: /Users/adamcordova/Desktop/labelMaker_ newgui BACKUP 6.24 copy 17/uploads/A Greener Today - Bothell_inventory_07-15-2025  7_04 PM.xlsx
2025-07-17 19:08:05,184 - INFO - File size: 856464 bytes (0.82 MB)
2025-07-17 19:08:05,184 - DEBUG - Attempting to read with engine: openpyxl
2025-07-17 19:08:11,232 - INFO - Successfully read file with openpyxl engine: 2284 rows, 112 columns
2025-07-17 19:08:11,276 - INFO - All columns in uploaded file: ['Product Name*', 'Description', 'Product Type*', 'Product Brand', 'Product Strain', 'Lineage', 'Concentrate Type', 'Quantity*', 'Weight*', 'Weight Unit* (grams/gm or ounces/oz)', 'THC test result', 'CBD test result', 'Test result unit (% or mg)', 'Vendor/Supplier*', 'Price* (Tier Name for Bulk)', 'Cost*', 'Lot Number', 'Barcode*', 'State', 'Is Sample? (yes/no)', 'Is MJ product?(yes/no)', 'Discountable? (yes/no)', 'Room*', 'Batch Number', 'Product Tags (comma separated)', 'Internal Product Identifier', 'Expiration Date(YYYY-MM-DD)', 'Is Archived? (yes/no)', 'THC Per Serving', 'Allergens', 'Solvent', 'Accepted Date', 'Medical Only (Yes/No)', 'Med Price', 'Total THC', 'THCA', 'CBDA', 'CBN', 'Image URL', 'Ingredients', 'DOH Compliant (Yes/No)', 'A-Bisabolol (mg/g)', 'A-Humulene (mg/g)', 'A-Maaliene (mg/g)', 'A-Myrcene (mg/g)', 'A-Pinene (mg/g)', 'B-Caryophyllene (mg/g)', 'B-Myrcene (mg/g)', 'B-Pinene (mg/g)', 'Bisabolol (mg/g)', 'Borneol (mg/g)', 'Camphene (mg/g)', 'Camphor (mg/g)', 'Carene (mg/g)', 'Carvacrol (mg/g)', 'Carvone (mg/g)', 'Caryophyllene (mg/g)', 'Cedrol (mg/g)', 'Citral (mg/g)', 'Citronellol (mg/g)', 'Cymene (mg/g)', 'Delta-3-Carene (mg/g)', 'Eucalyptol (mg/g)', 'Fenchol (mg/g)', 'Fenchone (mg/g)', 'Geraniol (mg/g)', 'Geranyl Acetate (mg/g)', 'Guaiol (mg/g)', 'Humulene (mg/g)', 'Isoborneol (mg/g)', 'Isobornyl Acetate (mg/g)', 'Isopulegol (mg/g)', 'Limonene (mg/g)', 'Linalool (mg/g)', 'Linalyl Acetate (mg/g)', 'm-Cymene (mg/g)', 'Menthal (mg/g)', 'Menthone (mg/g)', 'Myrcene (mg/g)', 'Nerolidol (mg/g)', 'o-Cymene (mg/g)', 'Ocimene (mg/g)', 'P-Cymene (mg/g)', 'Phellandrene (mg/g)', 'Phytol (mg/g)', 'Pinene (mg/g)', 'Piperitone (mg/g)', 'Pulegone (mg/g)', 'Sabinene (mg/g)', 'Safranal (mg/g)', 'Selinadiene (mg/g)', 'Terpineol (mg/g)', 'Terpinolene (mg/g)', 'Thujene (mg/g)', 'Thymol (mg/g)', 'Trans-Nerolidol (mg/g)', 'trans-α-Bergamotene (mg/g)', 'Valencene (mg/g)', 'α-Bisabolene (mg/g)', 'α-Bulnesene (mg/g)', 'α-Farnesene (mg/g)', 'α-Maaliene (mg/g)', 'α-Ocimene (mg/g)', 'α-Phellandrene (mg/g)', 'α-Pinene (mg/g)', 'α-Terpinene (mg/g)', 'α-Thujone (mg/g)', 'β-Farnesene (mg/g)', 'β-Maaliene (mg/g)', 'β-Ocimene (mg/g)', 'β-Pinene (mg/g)', 'γ-Terpinene (mg/g)']
2025-07-17 19:08:11,276 - WARNING - Missing required columns: ['ProductName', 'Units', 'Price', 'DOH', 'Ratio', 'Joint Ratio', 'JointRatio', 'Quantity Received*', 'Quantity', 'qty']
2025-07-17 19:08:11,276 - DEBUG - Original columns: ['Product Name*', 'Description', 'Product Type*', 'Product Brand', 'Product Strain', 'Lineage', 'Concentrate Type', 'Quantity*', 'Weight*', 'Weight Unit* (grams/gm or ounces/oz)', 'THC test result', 'CBD test result', 'Test result unit (% or mg)', 'Vendor/Supplier*', 'Price* (Tier Name for Bulk)', 'Cost*', 'Lot Number', 'Barcode*', 'State', 'Is Sample? (yes/no)', 'Is MJ product?(yes/no)', 'Discountable? (yes/no)', 'Room*', 'Batch Number', 'Product Tags (comma separated)', 'Internal Product Identifier', 'Expiration Date(YYYY-MM-DD)', 'Is Archived? (yes/no)', 'THC Per Serving', 'Allergens', 'Solvent', 'Accepted Date', 'Medical Only (Yes/No)', 'Med Price', 'Total THC', 'THCA', 'CBDA', 'CBN', 'Image URL', 'Ingredients', 'DOH Compliant (Yes/No)', 'A-Bisabolol (mg/g)', 'A-Humulene (mg/g)', 'A-Maaliene (mg/g)', 'A-Myrcene (mg/g)', 'A-Pinene (mg/g)', 'B-Caryophyllene (mg/g)', 'B-Myrcene (mg/g)', 'B-Pinene (mg/g)', 'Bisabolol (mg/g)', 'Borneol (mg/g)', 'Camphene (mg/g)', 'Camphor (mg/g)', 'Carene (mg/g)', 'Carvacrol (mg/g)', 'Carvone (mg/g)', 'Caryophyllene (mg/g)', 'Cedrol (mg/g)', 'Citral (mg/g)', 'Citronellol (mg/g)', 'Cymene (mg/g)', 'Delta-3-Carene (mg/g)', 'Eucalyptol (mg/g)', 'Fenchol (mg/g)', 'Fenchone (mg/g)', 'Geraniol (mg/g)', 'Geranyl Acetate (mg/g)', 'Guaiol (mg/g)', 'Humulene (mg/g)', 'Isoborneol (mg/g)', 'Isobornyl Acetate (mg/g)', 'Isopulegol (mg/g)', 'Limonene (mg/g)', 'Linalool (mg/g)', 'Linalyl Acetate (mg/g)', 'm-Cymene (mg/g)', 'Menthal (mg/g)', 'Menthone (mg/g)', 'Myrcene (mg/g)', 'Nerolidol (mg/g)', 'o-Cymene (mg/g)', 'Ocimene (mg/g)', 'P-Cymene (mg/g)', 'Phellandrene (mg/g)', 'Phytol (mg/g)', 'Pinene (mg/g)', 'Piperitone (mg/g)', 'Pulegone (mg/g)', 'Sabinene (mg/g)', 'Safranal (mg/g)', 'Selinadiene (mg/g)', 'Terpineol (mg/g)', 'Terpinolene (mg/g)', 'Thujene (mg/g)', 'Thymol (mg/g)', 'Trans-Nerolidol (mg/g)', 'trans-α-Bergamotene (mg/g)', 'Valencene (mg/g)', 'α-Bisabolene (mg/g)', 'α-Bulnesene (mg/g)', 'α-Farnesene (mg/g)', 'α-Maaliene (mg/g)', 'α-Ocimene (mg/g)', 'α-Phellandrene (mg/g)', 'α-Pinene (mg/g)', 'α-Terpinene (mg/g)', 'α-Thujone (mg/g)', 'β-Farnesene (mg/g)', 'β-Maaliene (mg/g)', 'β-Ocimene (mg/g)', 'β-Pinene (mg/g)', 'γ-Terpinene (mg/g)']
2025-07-17 19:08:11,287 - INFO - Excluded 3 products by product type: ['x-DEACTIVATED 2']
2025-07-17 19:08:11,295 - INFO - Product filtering complete: 2284 -> 2281 products (excluded 3)
2025-07-17 19:08:11,309 - INFO - Starting lineage standardization process...
2025-07-17 19:08:11,348 - INFO - Assigned MIXED lineage to 7 edible products
2025-07-17 19:08:11,362 - DEBUG - Building Description and Ratio columns
2025-07-17 19:08:11,384 - DEBUG - Extracting cannabinoid content from Product Name
2025-07-17 19:08:11,394 - DEBUG - Sample cannabinoid content values before processing: 0        
1        
2        
3        
4    clip
Name: Ratio, dtype: object
2025-07-17 19:08:11,397 - DEBUG - Sample cannabinoid content values after processing: 0        
1        
2        
3        
4    clip
Name: Ratio, dtype: object
2025-07-17 19:08:11,466 - DEBUG - Ratio_or_THC_CBD values: 0        
1        
2        
3        
4    clip
Name: Ratio_or_THC_CBD, dtype: object
2025-07-17 19:08:11,531 - INFO - Assigned CBD lineage to 18 products with CBD Blend strain
2025-07-17 19:08:11,548 - INFO - Assigned CBD lineage to 32 products with cannabinoid content
2025-07-17 19:08:11,569 - DEBUG - Applying special pre-roll ratio logic
2025-07-17 19:08:11,628 - DEBUG - Final Ratio values after pre-roll processing: 0        
1        
2        
3        
4    clip
Name: Ratio, dtype: object
2025-07-17 19:08:11,637 - DEBUG - Sample JointRatio values after spacing fix: 65                - 1g
69     - 0.5g x 2 Pack
70     - 0.5g x 2 Pack
73     - 0.5g x 2 Pack
74     - 0.5g x 2 Pack
Name: JointRatio, dtype: object
2025-07-17 19:08:11,638 - DEBUG - JointRatio value ' - 1g' (length: 5, repr: ' - 1g')
2025-07-17 19:08:11,638 - DEBUG - JointRatio value ' - 0.5g x 2 Pack' (length: 16, repr: ' - 0.5g x 2 Pack')
2025-07-17 19:08:11,639 - DEBUG - JointRatio value ' - 0.5g x 2 Pack' (length: 16, repr: ' - 0.5g x 2 Pack')
2025-07-17 19:08:11,639 - DEBUG - JointRatio value ' - 0.5g x 2 Pack' (length: 16, repr: ' - 0.5g x 2 Pack')
2025-07-17 19:08:11,640 - DEBUG - JointRatio value ' - 0.5g x 2 Pack' (length: 16, repr: ' - 0.5g x 2 Pack')
2025-07-17 19:08:11,641 - DEBUG - JointRatio value ' - 1g' (length: 5, repr: ' - 1g')
2025-07-17 19:08:11,641 - DEBUG - JointRatio value ' - .75g' (length: 7, repr: ' - .75g')
2025-07-17 19:08:11,641 - DEBUG - JointRatio value ' - 0.5g x 2 Pack' (length: 16, repr: ' - 0.5g x 2 Pack')
2025-07-17 19:08:11,648 - DEBUG - JointRatio value ' - .75g x 5 Pack' (length: 16, repr: ' - .75g x 5 Pack')
2025-07-17 19:08:11,649 - DEBUG - JointRatio value ' - .75g' (length: 7, repr: ' - .75g')
2025-07-17 19:08:11,666 - DEBUG - Columns after JointRatio normalization: ['ProductName', 'Description', 'Product Type*', 'Product Brand', 'Product Strain', 'Lineage', 'CombinedWeight', 'Ratio_or_THC_CBD', 'Description_Complexity', 'Ratio', 'JointRatio', 'Quantity*', 'Weight*', 'Units', 'THC test result', 'CBD test result', 'Test result unit (% or mg)', 'Vendor', 'Price', 'Cost*', 'Lot Number', 'Barcode*', 'State', 'Is Sample? (yes/no)', 'Is MJ product?(yes/no)', 'Discountable? (yes/no)', 'Room*', 'Batch Number', 'Product Tags (comma separated)', 'Internal Product Identifier', 'Expiration Date(YYYY-MM-DD)', 'Is Archived? (yes/no)', 'THC Per Serving', 'Allergens', 'Solvent', 'Accepted Date', 'Medical Only (Yes/No)', 'Med Price', 'Total THC', 'THCA', 'CBDA', 'CBN', 'Image URL', 'Ingredients', 'DOH', 'A-Bisabolol (mg/g)', 'A-Humulene (mg/g)', 'A-Maaliene (mg/g)', 'A-Myrcene (mg/g)', 'A-Pinene (mg/g)', 'B-Caryophyllene (mg/g)', 'B-Myrcene (mg/g)', 'B-Pinene (mg/g)', 'Bisabolol (mg/g)', 'Borneol (mg/g)', 'Camphene (mg/g)', 'Camphor (mg/g)', 'Carene (mg/g)', 'Carvacrol (mg/g)', 'Carvone (mg/g)', 'Caryophyllene (mg/g)', 'Cedrol (mg/g)', 'Citral (mg/g)', 'Citronellol (mg/g)', 'Cymene (mg/g)', 'Delta-3-Carene (mg/g)', 'Eucalyptol (mg/g)', 'Fenchol (mg/g)', 'Fenchone (mg/g)', 'Geraniol (mg/g)', 'Geranyl Acetate (mg/g)', 'Guaiol (mg/g)', 'Humulene (mg/g)', 'Isoborneol (mg/g)', 'Isobornyl Acetate (mg/g)', 'Isopulegol (mg/g)', 'Limonene (mg/g)', 'Linalool (mg/g)', 'Linalyl Acetate (mg/g)', 'm-Cymene (mg/g)', 'Menthal (mg/g)', 'Menthone (mg/g)', 'Myrcene (mg/g)', 'Nerolidol (mg/g)', 'o-Cymene (mg/g)', 'Ocimene (mg/g)', 'P-Cymene (mg/g)', 'Phellandrene (mg/g)', 'Phytol (mg/g)', 'Pinene (mg/g)', 'Piperitone (mg/g)', 'Pulegone (mg/g)', 'Sabinene (mg/g)', 'Safranal (mg/g)', 'Selinadiene (mg/g)', 'Terpineol (mg/g)', 'Terpinolene (mg/g)', 'Thujene (mg/g)', 'Thymol (mg/g)', 'Trans-Nerolidol (mg/g)', 'trans-α-Bergamotene (mg/g)', 'Valencene (mg/g)', 'α-Bisabolene (mg/g)', 'α-Bulnesene (mg/g)', 'α-Farnesene (mg/g)', 'α-Maaliene (mg/g)', 'α-Ocimene (mg/g)', 'α-Phellandrene (mg/g)', 'α-Pinene (mg/g)', 'α-Terpinene (mg/g)', 'α-Thujone (mg/g)', 'β-Farnesene (mg/g)', 'β-Maaliene (mg/g)', 'β-Ocimene (mg/g)', 'β-Pinene (mg/g)', 'γ-Terpinene (mg/g)']
2025-07-17 19:08:11,667 - DEBUG - Fast loading mode: Skipping expensive strain similarity processing
2025-07-17 19:08:11,667 - DEBUG - Optimizing memory usage for PythonAnywhere
2025-07-17 19:08:11,670 - DEBUG - Converted Product Type* to categorical (unique values: 16)
2025-07-17 19:08:11,671 - DEBUG - Converted Lineage to categorical (unique values: 7)
2025-07-17 19:08:11,672 - DEBUG - Converted Product Brand to categorical (unique values: 123)
2025-07-17 19:08:11,672 - DEBUG - Converted Vendor to categorical (unique values: 82)
2025-07-17 19:08:11,674 - DEBUG - Converted Product Strain to categorical (unique values: 850)
2025-07-17 19:08:11,681 - DEBUG - Final columns after all processing: ['ProductName', 'Description', 'Product Type*', 'Product Brand', 'Product Strain', 'Lineage', 'CombinedWeight', 'Ratio_or_THC_CBD', 'Description_Complexity', 'Ratio', 'JointRatio', 'Quantity*', 'Weight*', 'Units', 'THC test result', 'CBD test result', 'Test result unit (% or mg)', 'Vendor', 'Price', 'Cost*', 'Lot Number', 'Barcode*', 'State', 'Is Sample? (yes/no)', 'Is MJ product?(yes/no)', 'Discountable? (yes/no)', 'Room*', 'Batch Number', 'Product Tags (comma separated)', 'Internal Product Identifier', 'Expiration Date(YYYY-MM-DD)', 'Is Archived? (yes/no)', 'THC Per Serving', 'Allergens', 'Solvent', 'Accepted Date', 'Medical Only (Yes/No)', 'Med Price', 'Total THC', 'THCA', 'CBDA', 'CBN', 'Image URL', 'Ingredients', 'DOH', 'A-Bisabolol (mg/g)', 'A-Humulene (mg/g)', 'A-Maaliene (mg/g)', 'A-Myrcene (mg/g)', 'A-Pinene (mg/g)', 'B-Caryophyllene (mg/g)', 'B-Myrcene (mg/g)', 'B-Pinene (mg/g)', 'Bisabolol (mg/g)', 'Borneol (mg/g)', 'Camphene (mg/g)', 'Camphor (mg/g)', 'Carene (mg/g)', 'Carvacrol (mg/g)', 'Carvone (mg/g)', 'Caryophyllene (mg/g)', 'Cedrol (mg/g)', 'Citral (mg/g)', 'Citronellol (mg/g)', 'Cymene (mg/g)', 'Delta-3-Carene (mg/g)', 'Eucalyptol (mg/g)', 'Fenchol (mg/g)', 'Fenchone (mg/g)', 'Geraniol (mg/g)', 'Geranyl Acetate (mg/g)', 'Guaiol (mg/g)', 'Humulene (mg/g)', 'Isoborneol (mg/g)', 'Isobornyl Acetate (mg/g)', 'Isopulegol (mg/g)', 'Limonene (mg/g)', 'Linalool (mg/g)', 'Linalyl Acetate (mg/g)', 'm-Cymene (mg/g)', 'Menthal (mg/g)', 'Menthone (mg/g)', 'Myrcene (mg/g)', 'Nerolidol (mg/g)', 'o-Cymene (mg/g)', 'Ocimene (mg/g)', 'P-Cymene (mg/g)', 'Phellandrene (mg/g)', 'Phytol (mg/g)', 'Pinene (mg/g)', 'Piperitone (mg/g)', 'Pulegone (mg/g)', 'Sabinene (mg/g)', 'Safranal (mg/g)', 'Selinadiene (mg/g)', 'Terpineol (mg/g)', 'Terpinolene (mg/g)', 'Thujene (mg/g)', 'Thymol (mg/g)', 'Trans-Nerolidol (mg/g)', 'trans-α-Bergamotene (mg/g)', 'Valencene (mg/g)', 'α-Bisabolene (mg/g)', 'α-Bulnesene (mg/g)', 'α-Farnesene (mg/g)', 'α-Maaliene (mg/g)', 'α-Ocimene (mg/g)', 'α-Phellandrene (mg/g)', 'α-Pinene (mg/g)', 'α-Terpinene (mg/g)', 'α-Thujone (mg/g)', 'β-Farnesene (mg/g)', 'β-Maaliene (mg/g)', 'β-Ocimene (mg/g)', 'β-Pinene (mg/g)', 'γ-Terpinene (mg/g)']
2025-07-17 19:08:11,724 - DEBUG - Sample data after all processing:
                                     ProductName  ... Product Strain
0                     Core Reactor Quartz Banger  ...  Paraphernalia
1                     Terp Slurper Quartz Banger  ...  Paraphernalia
2                     Diamond Knot Quartz Banger  ...  Paraphernalia
3  Assorted Design Bowl Piece by Hibro Wholesale  ...  Paraphernalia
4                                 Plastic K-clip  ...  Paraphernalia

[5 rows x 4 columns]
2025-07-17 19:08:11,787 - INFO - Memory usage after file load: 141.11 MB
2025-07-17 19:08:11,963 - INFO - Non-classic type processing: Found 601 non-classic products
2025-07-17 19:08:11,965 - INFO - Sample non-classic product types: ['Paraphernalia', 'Topical', 'Edible (Liquid)', 'Tincture', 'Capsule', 'Edible (Solid)', ' CO2 Concentrate', 'Alcohol/Ethanol Extract', 'x-DEACTIVATED 1 ', 'TRADE SAMPLE - Not for Sale']
Categories (16, string): [CO2 Concentrate, Alcohol/Ethanol Extract, Capsule, Concentrate, ..., Tincture,
                          Topical, Vape Cartridge, x-DEACTIVATED 1]
2025-07-17 19:08:11,995 - INFO - File loaded successfully: 2281 rows, 116 columns
2025-07-17 19:08:12,177 - INFO - Loading default file on startup: /Users/adamcordova/Desktop/labelMaker_ newgui BACKUP 6.24 copy 17/uploads/A Greener Today - Bothell_inventory_07-15-2025  7_04 PM.xlsx
2025-07-17 19:08:12,177 - INFO - Default file loaded successfully with 2281 records
2025-07-17 19:08:12,253 - INFO - Starting Label Maker application on 127.0.0.1:9090
Current working directory: /Users/adamcordova/Desktop/labelMaker_ newgui BACKUP 6.24 copy 17
Searching in: /Users/adamcordova/Desktop/labelMaker_ newgui BACKUP 6.24 copy 17/uploads
Found AGT file: A Greener Today - Bothell_inventory_07-15-2025  7_04 PM.xlsx (modified: 1752722748.3365276)
Searching in: /Users/adamcordova/Downloads
Found AGT file: A Greener Today - Bothell_inventory_07-15-2025  7_04 PM.xlsx (modified: 1752631470.0943441)
Current working directory: /Users/adamcordova/Desktop/labelMaker_ newgui BACKUP 6.24 copy 17
Searching in: /Users/adamcordova/Desktop/labelMaker_ newgui BACKUP 6.24 copy 17/uploads
Found AGT file: A Greener Today - Bothell_inventory_07-15-2025  7_04 PM.xlsx (modified: 1752722748.3365276)
Searching in: /Users/adamcordova/Downloads
Found AGT file: A Greener Today - Bothell_inventory_07-15-2025  7_04 PM.xlsx (modified: 1752631470.0943441)
 * Serving Flask app 'app'
 * Debug mode: on
Address already in use
Port 9090 is in use by another program. Either identify and stop that program, or start the server with a different port.
